# Cursor Rule – Test-Driven Workflow

1. **Always begin with tests**
   - Before touching production code, add or update automated tests that capture the desired behavior and currently fail.
   - Keep tests small and focused; prefer unit tests unless higher-level coverage is strictly necessary.

2. **Implement only what tests demand**
   - Write the minimal production code needed to make the new failing tests pass.
   - Refactor only when tests are green, preserving behavior.

3. **Document every change**
   - After tests pass, update relevant docs (e.g., `README.md`, design notes) to describe new behavior, assumptions, or usage instructions.
   - Mention new tests or scenarios in the documentation when it adds clarity.

4. **Verification checklist before finishing any task**
   - All new/updated tests are committed and green.
   - Production code changes are covered by tests.
   - Documentation reflects the implemented behavior.

5. **PEP 8 is the default coding standard**
   - Format code to be `black`-compatible (88-char lines, spaces not tabs).
   - Use snake_case for functions/variables, PascalCase for classes, CONSTANT_CASE for module constants.
   - Keep imports ordered stdlib → third-party → local and remove unused imports or variables.
   - Prefer readable expressions over clever one-liners; split long functions into helpers when clarity suffers.

6. **Clean Code expectations**
   - Keep functions and methods short with single responsibilities; extract helpers instead of nesting deeply.
   - Choose descriptive names for modules, classes, variables, and tests so intent is obvious without extra comments.
   - Fail fast with clear exceptions or guard clauses; avoid silent pass blocks.
   - Delete dead code and commented-out blocks once no longer necessary.
   - Write docstrings or inline comments only when behavior is non-obvious, keeping them accurate and concise.
   - Avoid module-level mutable globals; prefer passing state explicitly or encapsulating it in classes.

This repository must follow the above TDD loop for every change.
